(function(t){function e(e){for(var o,i,r=e[0],s=e[1],u=e[2],d=0,f=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o]);c&&c(e);while(f.length)f.shift()();return l.push.apply(l,u||[]),n()}function n(){for(var t,e=0;e<l.length;e++){for(var n=l[e],o=!0,r=1;r<n.length;r++){var s=n[r];0!==a[s]&&(o=!1)}o&&(l.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},a={app:0},l=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var c=s;l.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("a133"),n("ed0d"),n("f09c"),n("e117");var o=n("0261"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("router-link",{attrs:{to:"/student"}},[t._v("学生管理")]),t._v(" | "),n("router-link",{attrs:{to:"/clazz"}},[t._v("班级管理")]),t._v(" | "),n("el-button",{attrs:{type:"text"},on:{click:t.logout}},[t._v("注销")]),n("router-view")],1)},l=[],i={methods:{logout:function(){localStorage.setItem("token",""),location.reload()}}},r=i,s=n("9ca4"),u=Object(s["a"])(r,a,l,!1,null,null,null),c=u.exports,d=n("b705"),f=n.n(d),m=(n("3880"),n("3f11")),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("添加学生")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.studentList,border:""}},[n("el-table-column",{attrs:{prop:"id",label:"ID",width:"120"}}),n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),n("el-table-column",{attrs:{prop:"achievement",label:"成绩",width:"120"}}),n("el-table-column",{attrs:{prop:"clazz.name",label:"班级",width:"120"}}),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),n("el-dialog",{attrs:{title:"添加学生信息",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",[n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"成绩"}},[n("el-input",{model:{value:t.form.achievement,callback:function(e){t.$set(t.form,"achievement",e)},expression:"form.achievement"}})],1),n("el-form-item",{attrs:{label:"班级"}},[n("el-select",{attrs:{placeholder:"请选择班级"},model:{value:t.form.clazz_id,callback:function(e){t.$set(t.form,"clazz_id",e)},expression:"form.clazz_id"}},t._l(t.clazzList,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)],1)},b=[],g=n("82ae"),h=n.n(g),v=h.a.create({baseURL:"/",timeout:5e3});v.interceptors.request.use((function(t){return localStorage.getItem("token")&&(t.headers["token"]=localStorage.getItem("token")),t}));var z=v,_={methods:{onSubmit:function(){var t=this;z.post("/students",this.form).then((function(){t.getStudentList(),t.dialogVisible=!1}))},del:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){z.delete("/students/".concat(t)).then((function(){e.$message({type:"success",message:"删除成功!"}),e.getStudentList()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},getStudentList:function(){var t=this;z.get("/students").then((function(e){t.studentList=e.data}))},getClazzList:function(){var t=this;z.get("/clazz").then((function(e){t.clazzList=e.data}))}},data:function(){return{studentList:[],clazzList:[],dialogVisible:!1,form:{name:"",achievement:"",clazz_id:null}}},created:function(){this.getStudentList(),this.getClazzList()}},y=_,w=Object(s["a"])(y,p,b,!1,null,null,null),k=w.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{attrs:{type:"text"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("添加班级")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.clazzList,border:""}},[n("el-table-column",{attrs:{prop:"id",label:"ID",width:"120"}}),n("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.del(e.row.id)}}},[t._v("删除")])]}}])})],1),n("el-dialog",{attrs:{title:"添加学生信息",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",[n("el-form-item",{attrs:{label:"姓名"}},[n("el-input",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确 定")])],1)],1)],1)},S=[],L=(n("053b"),{data:function(){return{name:"",clazzList:[],dialogVisible:!1}},methods:{onSubmit:function(){var t=this;z.post("/clazz",{name:this.name}).then((function(){t.getClazzList(),t.dialogVisible=!1}))},del:function(t){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){z.delete("/clazz/".concat(t)).then((function(){e.getClazzList(),e.dialogVisible=!1}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},getClazzList:function(){var t=this;z.get("/clazz").then((function(e){t.clazzList=e.data}))}},created:function(){this.getClazzList()}}),$=L,O=Object(s["a"])($,x,S,!1,null,null,null),j=O.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],attrs:{type:"text"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"text"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),n("button",[t._v("登录")])])])},C=[],P={data:function(){return{user:{username:"",password:""}}},methods:{login:function(){var t=this;z.post("http://127.0.0.1:7001/login",{user:this.user}).then((function(e){2e4===e.data.code?(localStorage.setItem("token",e.data.token),t.$router.push("/student")):console.log("登录失败")}))}}},I=P,T=Object(s["a"])(I,V,C,!1,null,null,null),E=T.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{on:{click:t.getMessage}},[t._v("获取数据")]),n("h1",[t._v(t._s(t.message))])])},B=[],D={data:function(){return{message:""}},methods:{getMessage:function(){var t=this,e=localStorage.getItem("token");console.log(e),h.a.get("http://127.0.0.1:7001/message",{headers:{token:e}}).then((function(e){2e4===e.data.code?t.message=e.data.data:console.log(e.data.msg)}))}}},J=D,N=Object(s["a"])(J,M,B,!1,null,null,null),q=N.exports;o["default"].use(m["a"]);var H=[{path:"/student",name:"",component:k},{path:"/clazz",name:"",component:j},{path:"/home",name:"Home",component:q},{path:"/login",name:"Login",component:E}],R=new m["a"]({mode:"history",base:"/",routes:H});R.beforeEach((function(t,e,n){"/login"==t.path||localStorage.getItem("token")?n():n("/login")}));var U=R;o["default"].config.productionTip=!1,o["default"].use(f.a),new o["default"]({router:U,render:function(t){return t(c)}}).$mount("#app")}});
//# sourceMappingURL=app.3b32f57a.js.map